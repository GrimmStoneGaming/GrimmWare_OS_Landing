<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>GrimmWare OS Gateway</title>
<link href="style.css" rel="stylesheet"/>
<style>
    /* TEMP: Highlight the Run It flicker for debug */
    .run-it-flicker.debug-highlight {
      outline: 2px dashed lime;
      background: rgba(0, 255, 0, 0.05);
    }

    /* TEMP: Debug logger */
    #debug-log {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      max-height: 160px;
      overflow-y: auto;
      font-size: 0.8rem;
      font-family: monospace;
      background: rgba(0, 0, 0, 0.95);
      color: lime;
      border-top: 1px solid lime;
      z-index: 99999;
      padding: 0.5rem;
    }
  </style>
</head>
<body>
<!-- LANDING PAGE (Already Loaded Behind Gateway) -->
<div aria-hidden="true" class="preloaded" id="landing-page">
<div class="lp-content">
<h1>Welcome to GrimmWare OS</h1>
<p>This is your system now.</p>
</div>
</div>
<!-- GATEWAY UI -->
<div id="gateway-ui">
<div class="top-container">
<div class="logo-container">
<img alt="GRIMMWARE OS Logo" class="logo-main" loading="lazy" src="images/grimmware-logo.png"/>
<img alt="Emotion is Executable" class="tagline" loading="lazy" src="images/emotion-is-executable.png"/>
</div>
<div aria-label="Decryption Puzzle" class="decrypt-wrapper" role="region">
<div class="decrypt-boxes">
<div aria-label="Box 1" class="box" id="box0" role="button" tabindex="0">G</div>
<div aria-label="Box 2" class="box" id="box1" role="button" tabindex="0">W</div>
<div aria-label="Box 3" class="box" id="box2" role="button" tabindex="0">O</div>
<div aria-label="Box 4" class="box" id="box3" role="button" tabindex="0">S</div>
<div aria-hidden="true" class="separator">_</div>
<div aria-label="Box 5" class="box" id="box4" role="button" tabindex="0">E</div>
<div aria-label="Box 6" class="box" id="box5" role="button" tabindex="0">X</div>
<div aria-label="Box 7" class="box" id="box6" role="button" tabindex="0">E</div>
</div>
</div>
<div class="decrypt-instruction"></div>
</div>
<!-- ACCESS MESSAGE -->
<div aria-live="polite" class="hidden" id="access-message">
<span class="granted"></span>
<span class="warning" id="warning-line"></span>
</div>
<!-- RUN IT BUTTON -->
<div class="run-button-wrapper" id="run-wrapper">
<button aria-label="Execute Gateway Unlock" id="run-button">&gt;&gt;&gt; RUN IT</button>
</div>
</div>
<!-- STRIP WIPE OVERLAY -->
<div aria-hidden="true" id="gateway-overlay"></div>
<!-- TERMINAL OVERLAY -->
<div class="terminal hidden" id="terminal-overlay"><div class="terminal-inner" id="terminal-lines"></div></div>
<!-- DEBUG LOGGER -->
<div id="debug-log"></div>
<script>
    function logDebug(message) {
      const logBox = document.getElementById('debug-log');
      const line = document.createElement('div');
      line.textContent = '[LOG] ' + message;
      logBox.appendChild(line);
      logBox.scrollTop = logBox.scrollHeight;
    }

    function validateRunItFlicker() {
      setTimeout(() => {
        const runIt = document.querySelector('.run-it-flicker');
        if (!runIt) {
          logDebug('.run-it-flicker NOT FOUND in DOM.');
        } else {
          const rect = runIt.getBoundingClientRect();
          const styles = window.getComputedStyle(runIt);
          runIt.classList.add('debug-highlight');
          logDebug('.run-it-flicker FOUND.');
          logDebug(`Bounds: ${Math.round(rect.width)}x${Math.round(rect.height)} | Opacity: ${styles.opacity} | Display: ${styles.display}`);
        }
      }, 500);
    }

    // You can call validateRunItFlicker() right after your last terminal line injection
    // Or fire it from wherever you spawn the "Run It" line
  </script>
<script src="script.js"></script>
</body>
</html>
